#summary コンテンツ修正

= コンテンツ修正 =

 [Replay replay機能]を利用して、サーバに手を加えることなく、コンテンツを差し替える方法を説明します。

 今回もこのサイトを対象に説明します。
{{{
 http://ph-sample.appspot.com
}}}

 == 手順 ==
  # 以下urlにリクエストしてトレースを採取してください。
    http://ph.ph-sample.appspot.com/
  # 続けて以下urlにリクエストしてコンテンツを確認します。
    http://re.ph-sample.appspot.com/
   採取時に表示されたコンテンツが表示されるはずです。画像をクリックしても、ブラウザをリロードしても、replay機能が働いているためコンテンツは変更されません。このウィンドウは開いておいてください。
  # ConsoleにログインしてaccessLogタグを表示してください。
    更新ボタンを押下して最新のリストにしてください。
  # 先頭付近にある以下エントリのidをclickしてtraceタブを表示してください。
    * {{{GET http://ph.ph-sample.appspot.com/ HTTP/1.1}}}
    前者は、採取フェーズで最後に見た画像となっているはずです。
  # 先頭付近にある以下エントリのidをclickしてtraceタブを表示してください。
  # request Bodyボタンを押下すると、txtダイアログが開きます。
    gzipボタンで調整してhtml文書をダイアログ内に表示してください。
  # 以下を編集してsaveボタンを押下してください。
    修正前(6.jpgの部分はタイミングにより異なります）
{{{
<img src="/images/6.jpg" ....
}}}
   修正後
{{{
<img src="/images/11.jpg" ....
}}}
    サンプルサイトに"/images/11.jpg"という11枚目の画像があります。
  # tarceタブのsave newボタンを押下してください。このエントリが保存されます。
  # 残しておいた、ブラウザをリロードしてください。
    replay機能で、前項で保存したコンテンツが返却されるため、画像だけが変更されるはずです。（"/images/11.jpg"は、リスの画像です）
  # 続いて、画像そのものを置き換えます。以下から任意の画像をアップロードしてください。
{{{
settingタブ Replay File登録
}}}
    pathには、以下を指定してください。
{{{
http://ph-sample.appspot.com/images/11.jpg
}}}
  # 残しておいた、ブラウザを再びリロードしてください。
    replay機能で、前項で登録したコンテンツが返却されるため、画像だけが変更されるはずです。