<!DOCTYPE html>
<html lang="jp">
<head> 
	<meta charset="UTF-8" /> 
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="Pragma" content="no-cache"> 
	<meta http-equiv="Cache-Control" content="no-cache"> 
	<meta http-equiv="Expires" content="0"> 
	<title>javascriptテスト</title>

	<link type="text/css" href="/pub/css/jquery-ui-1.8.2.custom.css" rel="stylesheet" />
	<script type="text/javascript" src="/pub/js/ph-loader.js?include=ph-auth2.js"></script>
	<script type="text/javascript" src="/pub/js/dateformat.js"></script>
	<script type="text/javascript" src="/pub/js/jquery-1.5.1.min.js"></script>
	<script type="text/javascript" src="/pub/js/jquery-ui-1.8.2.custom.min.js"></script>
	<link type="text/css" href="/pub/css/ph.css" rel="stylesheet" /> 

</head> 
<body> 
<H1>javascriptテスト</H1>
<hr/>
<form id="scriptForm" name="scriptForm">
<textarea name="script" rows="10" cols="80">
</textarea><br>
<input type="button" value="実行" onclick="doScript();"/>
<input type="reset" value="クリア"/>
</form>
<input type="button" value="出力クリア" onclick="ph.jQuery('#phDebugArea').text('');"/>
<h3>使用例</h3>
<ul>
<li>ログ出力:ph.log("aa")</li>
<li>オブジェクトダンプ:ph.dump({aaa:"aaa"})</li>
<li>郵便番号検索:jQuery.get("http://api.postalcode.jp/v1/zipsearch?zipcode=1000011",null,ph.dump,"jsonp")</li>
<li>フレーム間通信:window._phAuthFrameChild.location.href="postFrame.html"</li>
</ul>
<script type="text/javascript"><!--
jQuery(function(){
	ph.setDebug(true);
	if(window.addEventListener){
		window.addEventListener('message',messageRcv, false);
	}else if(window.attachEvent){
		window.attachEvent('onmessage',messageRcv);
	}
});

function messageRcv(ev){
	ph.log('onMessageFunc');
	ph.dump(ev.data);
}

function doScript(){
	var form = document.getElementById("scriptForm");
	window.eval(form.script.value);
}
// --></script>

<div id="debug">
<p>デバッグ情報</p>
<Hr/>
<pre id="phDebugArea"></pre>
</div>
<iframe name="_phAuthFrameChild" onload="ph.log('_phAuthFrameChild onload')";></iframe>
</body> 
</html>
